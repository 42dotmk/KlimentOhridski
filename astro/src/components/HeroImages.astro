---
import Image from "astro/components/Image.astro";
import Sun from "./icons/sun.svg";
import { Components, Pages } from "../constants";
import type { StrapiImage } from "../types";
import { fetchPerPageAndComponent, getAbsoluteUrl } from "../lib/strapi";

const images = await fetchPerPageAndComponent<StrapiImage[]>({
  endpoint: "images?populate=*",
  wrappedByKey: "data",
  page: Pages.Pocetna,
  component: Components.Hero,
});
---

<div class="flex justify-center flex-wrap mt-2">
  <Image
    src={Sun}
    alt="sun"
    class="hidden lg:block relative top-[-240px] left-80 z-10"
    loading="eager"
  />
  <Image
    src=`${getAbsoluteUrl(images?.[0]?.image?.url)}`
    width="304"
    height="408"
    alt={images?.[0].alt}
    class="bg-background border-primary border-2 rounded-lg shadow-[-6px_6px_0px_0px_rgba(235,_171,_0,_1)] transform rotate-[-6.47deg] h-[244px] w-auto px-2 pt-2 pb-6 sm:h-auto sm:w-[304px] sm:px-4 sm:pt-4 sm:pb-12"
    loading="eager"
  />
  <Image
    src=`${getAbsoluteUrl(images?.[1]?.image?.url)}`
    alt={images?.[1]?.alt}
    height="408"
    width="304"
    class="bg-background border-primary border-2 rounded-lg shadow-[-6px_6px_0px_0px_rgba(235,_171,_0,_1)] transform rotate-[2.97deg] h-[244px] w-auto px-2 pt-2 pb-6 sm:h-auto sm:w-[304px] sm:px-4 sm:pt-4 sm:pb-12"
    loading="eager"
  />
  <Image
    src=`${getAbsoluteUrl(images?.[2]?.image?.url)}`
    alt={images?.[2].alt}
    height="408"
    width="304"
    class="bg-background border-primary border-2 rounded-lg shadow-[6px_6px_0px_0px_rgba(235,_171,_0,_1)] transform rotate-[-5.05deg] z-10 h-[244px] w-auto px-2 pt-2 pb-6 sm:h-auto sm:w-[304px] sm:px-4 sm:pt-4 sm:pb-12"
    loading="eager"
  />
  <Image
    src=`${getAbsoluteUrl(images?.[3]?.image?.url)}`
    alt={images?.[3]?.alt}
    height="408"
    width="304"
    class="bg-background border-primary border-2 rounded-lg shadow-[6px_6px_0px_0px_rgba(235,_171,_0,_1)] transform rotate-[5.55deg] h-[244px] w-auto px-2 pt-2 pb-6 sm:h-auto sm:w-[304px] sm:px-4 sm:pt-4 sm:pb-12"
    loading="eager"
  />
</div>
